version: 1.0

global:
  index_dir: .ci-index
  respect_gitignore: false

default_workspace:
  name: main
  root: .
  include:
    - "demo/zod/**"
    - "demo/TypeScript/**"
  exclude:
    - "**/node_modules/**"

workspaces:
  - name: demo-zod
    root: demo/zod
    include:
      - "**/*.ts"
      - "**/*.js"
    exclude:
      - "**/node_modules/**"

  - name: demo-typescript
    root: demo/TypeScript
    respect_gitignore: true
    include:
      - "src/compiler/**/*.ts"
      - "src/services/**/*.ts"
      - "src/server/**/*.ts"
      - "src/harness/**/*.ts"
    exclude:
      - "**/*.d.ts"
      - "**/node_modules/**"
      - "**/tests/**"
      - "**/testRunner/**"
      - "**/lib/**"
      - "**/built/**"
      - "**/dist/**"
    index:
      embedding:
        enabled: true
        model: nomic-embed-text
        dimension: 768
      graph:
        enabled: true
      scip:
        enabled: true

imports:
  boundaries: config/boundaries.yaml
  features: config/features.yaml
  llm_providers: config/llm-providers.yaml
